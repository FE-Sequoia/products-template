(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/registered_users/view"],{3191:function(e,t,r){"use strict";(function(e){var i,s=r("dc88");function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(L){u=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var s=t&&t.prototype instanceof f?t:f,n=Object.create(s.prototype),o=new j(i||[]);return n._invoke=function(e,t,r){var i="suspendedStart";return function(s,n){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===s)throw n;return S()}for(r.method=s,r.arg=n;;){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=_(e,t,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(e,r,o),n}function _(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var g={};u(g,s,(function(){return this}));var p=Object.getPrototypeOf,b=p&&p(p(O([])));b&&b!==t&&r.call(b,s)&&(g=b);var v=m.prototype=f.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function $(e,t){function i(s,o,a,l){var u=_(e[s],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,l)}),(function(e){i("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,l)}))}l(u.arg)}var s;this._invoke=function(e,r){function n(){return new t((function(t,s){i(e,r,t,s)}))}return s=s?s.then(n,n):n()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=_(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var s=i.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,u(v,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y($.prototype),u($.prototype,o,(function(){return this})),e.AsyncIterator=$,e.async=function(t,r,i,s,n){void 0===n&&(n=Promise);var o=new $(c(t,r,i,s),n);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),u(v,l,"Generator"),u(v,s,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(r,i){return o.type="throw",o.arg=e,t.next=r,i&&(t.method="next",t.arg=void 0),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s],o=n.completion;if("root"===n.tryLoc)return i("end");if(n.tryLoc<=this.prev){var a=r.call(n,"catchLoc"),l=r.call(n,"finallyLoc");if(a&&l){if(this.prev<n.catchLoc)return i(n.catchLoc,!0);if(this.prev<n.finallyLoc)return i(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return i(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return i(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var s=i.arg;x(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,r,i,s,n,o){try{var a=e[n](o),l=a.value}catch(u){return void r(u)}a.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function o(e){l(n,i,s,o,a,"next",e)}function a(e){l(n,i,s,o,a,"throw",e)}o(void 0)}))}}var c=function(){r.e("components/ld-select/ld-select").then(function(){return resolve(r("e195"))}.bind(null,r)).catch(r.oe)};t["a"]={mixins:[s["a"]],components:{ldSelect:c},data:function(){return{field_user:"user_id",url_add_user:"~/api/user/register?",url_set_user:"~/api/user/set?",url_get_obj_user:"~/api/user/get_obj?",url_upload_user:"~/api/user/upload?",form_user:{user_id:0,username:"",nickname:"",password:"",avatar:"",email:"",user_group:"注册用户",state:1,vip_level:"",vip_discount:0},obj_user:{user_id:0,username:"",nickname:"",password:"",avatar:"",email:"",user_group:"注册用户",state:1,vip_level:"",vip_discount:0},query_user:{user_id:0},list_state:[{value:0,text:"未认证"},{value:1,text:"审核中"},{value:2,text:"已认证"}],list_user_state:[{value:1,text:"可用"},{value:2,text:"异常"},{value:3,text:"已冻结"},{value:4,text:"已注销"}],group_table:"registered_users",is_password:!0,list_user_vip_level:[{value:"",text:""}],list_user_vip_level_data:[],field:"registered_users_id",url_add:"~/api/registered_users/add?",url_set:"~/api/registered_users/set?",url_get_obj:"~/api/registered_users/get_obj?",url_upload:"~/api/registered_users/upload?",name:null,gender:null,age:null,id_photo:null,date_of_birth:null,registration_time:null,resume:null,number:null,classification_number:null,classification_categories:null,label:null,id_card:null,mobile_phone:null,query:{registered_users_id:0},form:{name:"",gender:"",age:0,id_photo:"",date_of_birth:this.$toTime((new Date).getTime(),"yyyy-MM-dd"),registration_time:this.$toTime((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),resume:"",number:"",classification_number:"",classification_categories:"",label:"",id_card:"",mobile_phone:"",user_id:0,registered_users_id:0},disabledObj:{name_isDisabled:!1,gender_isDisabled:!1,id_photo_isDisabled:!1,date_of_birth_isDisabled:!1,registration_time_isDisabled:!1,resume_isDisabled:!1,number_isDisabled:!1,classification_number_isDisabled:!1,classification_categories_isDisabled:!1,label_isDisabled:!1,id_card_isDisabled:!1,mobile_phone_isDisabled:!1},list_gender:[],list_number:[],list_classification_number:[],label_multiple_value:[],list_label:[]}},methods:(i={submit_check:function(e){if(!e.date_of_birth)return"出生日期不能为空";if(!e.registration_time)return"注册时间不能为空";var t=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;if(e.id_card&&!t.test(e.id_card))return"身份证号格式错误";var r=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return e.mobile_phone&&!r.test(e.mobile_phone)?"手机号格式错误":null},changeLog:function(e,t){this.form[t]=e},uploadFile_:function(t){var r=this;"mp-weixin"!=e.getSystemInfoSync().uniPlatform||"devtools"==e.getSystemInfoSync().platform?e.chooseImage({count:1,success:function(e){var i=e.tempFilePaths;r.successChoose(i[0],t)}}):wx.chooseMessageFile({count:1,success:function(e){var i=e.tempFiles;r.successChoose(i[0].path,t)}})},successChoose:function(t,r){var i=this;e.uploadFile({url:getApp().globalData.host+"/api/registered_users/upload",filePath:t,name:"file",success:function(t){t.data.error?e.showToast({title:t.data.error.message,icon:"none"}):i[r]=JSON.parse(t.data).result.url}})},close_:function(e){"name"==e&&(this["name"]=this.form["name"]=""),"gender"==e&&(this["gender"]=this.form["gender"]=""),"age"==e&&(this["age"]=this.form["age"]=""),"id_photo"==e&&(this["id_photo"]=this.form["id_photo"]=""),"date_of_birth"==e&&(this["date_of_birth"]=this.form["date_of_birth"]=""),"registration_time"==e&&(this["registration_time"]=this.form["registration_time"]=""),"resume"==e&&(this["resume"]=this.form["resume"]=""),"number"==e&&(this["number"]=this.form["number"]=""),"classification_number"==e&&(this["classification_number"]=this.form["classification_number"]=""),"classification_categories"==e&&(this["classification_categories"]=this.form["classification_categories"]=""),"label"==e&&(this["label"]=this.form["label"]=""),"id_card"==e&&(this["id_card"]=this.form["id_card"]=""),"mobile_phone"==e&&(this["mobile_phone"]=this.form["mobile_phone"]="")},submit_:function(){null!==this["name"]&&(this.form["name"]=this["name"]),null!==this["gender"]&&(this.form["gender"]=this["gender"]),null!==this["age"]&&(this.form["age"]=this["age"]),null!==this["id_photo"]&&(this.form["id_photo"]=this["id_photo"]),null!==this["date_of_birth"]&&(this.form["date_of_birth"]=this["date_of_birth"]),null!==this["registration_time"]&&(this.form["registration_time"]=this["registration_time"]),null!==this["resume"]&&(this.form["resume"]=this["resume"]),null!==this["number"]&&(this.form["number"]=this["number"]),null!==this["classification_number"]&&(this.form["classification_number"]=this["classification_number"]),null!==this["classification_categories"]&&(this.form["classification_categories"]=this["classification_categories"]),null!==this["label"]&&(this.form["label"]=this["label"]),null!==this["id_card"]&&(this.form["id_card"]=this["id_card"]),null!==this["mobile_phone"]&&(this.form["mobile_phone"]=this["mobile_phone"]),console.log(this.form),this.submit()},change_file:function(t){var r=this;e.chooseFile({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(i){var s=i.tempFilePaths,n=e.uploadFile({url:r.$fullUrl("/api/registered_users/upload?"),filePath:s[0],name:"file",formData:{i_want_to_customize:"test"},header:{"x-auth-token":r.$store.state.user.token},success:function(e){var i=JSON.parse(e.data).result.url;r.form[t]=i}});n.onProgressUpdate((function(e){r.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},change_img:function(t){var r=this;r.upload_img_flag=!1,e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(i){var s=i.tempFilePaths,n=e.uploadFile({url:r.$fullUrl("/api/registered_users/upload?"),filePath:s[0],name:"file",formData:{i_want_to_customize:"test"},header:{"x-auth-token":r.$store.state.user.token},success:function(e){var i=JSON.parse(e.data).result.url;r.form[t]=i}});n.onProgressUpdate((function(e){r.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},get_obj_before:function(t){var r=e.db.get("form");r&&(delete r.examine_state,delete r.examine_reply,this.obj=e.push(this.obj,r),this.form=e.push(this.form,r));var i=[];for(var s in r)i.push(s);for(var n=0;n<i.length;n++)this.disabledObj[i[n]+"_isDisabled"]=!0;return this.form["date_of_birth"]&&-1===JSON.stringify(this.form["date_of_birth"]).indexOf("-")&&(this.form["date_of_birth"]=this.$toTime(parseInt(this.form["date_of_birth"]),"yyyy-MM-dd")),this.form["registration_time"]&&-1===JSON.stringify(this.form["registration_time"]).indexOf("-")&&(this.form["registration_time"]=this.$toTime(parseInt(this.form["registration_time"]),"yyyy-MM-dd hh:mm:ss")),e.db.del("form"),t},get_list_gender:function(){var e=this;return u(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:["男","女"].map((function(t){return e.list_gender.push({value:t,text:t})}));case 1:case"end":return t.stop()}}),t)})))()},get_list_number:function(){var e=this;return u(a().mark((function t(){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/classification_information/get_list?");case 2:r=t.sent,r.result&&r.result.list?r.result.list.map((function(t){return e.list_number.push({value:t.classification_number,text:t.classification_number})})):r.error&&console.error(r.error);case 4:case"end":return t.stop()}}),t)})))()},get_list_classification_number:function(){var e=this;return u(a().mark((function t(){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/classification_information/get_list?");case 2:r=t.sent,r.result&&r.result.list?r.result.list.map((function(t){return e.list_classification_number.push({value:t.classification_number,text:t.classification_number})})):r.error&&console.error(r.error);case 4:case"end":return t.stop()}}),t)})))()},select_classification_number_field:function(e){var t=this;e&&this.$get("~/api/classification_information/get_obj?classification_number="+e,{},(function(e){e.result&&e.result.obj?t.form.classification_categories=e.result.obj.classification_categories:console.error(e.error)}))},get_list_label:function(){var e=this;return u(a().mark((function t(){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/classification_information/get_list?");case 2:r=t.sent,r.result&&r.result.list?r.result.list.map((function(t){return e.list_label.push({value:t.classification_categories,text:t.classification_categories})})):r.error&&console.error(r.error);case 4:case"end":return t.stop()}}),t)})))()},select_label_multiple:function(e){this.form.label="",e&&e.length>0&&(this.form.label=e.toString())},get_obj_after:function(e,t){var r=this,i=this.form.user_id;this.$get("~/api/user/get_obj?",{user_id:i},(function(e){if(e.result&&e.result.obj){var t=e.result.obj;delete t["create_time"],delete t["login_time"],r.form_user=t,r.obj_user=t,r.is_password=!r.obj_user.password,r.query_user.user_id=i}else e.error&&(console.log(e.error),console.log("获取不到相关信息"))})),this.form["date_of_birth"]&&-1===JSON.stringify(this.form["date_of_birth"]).indexOf("-")&&(this.form["date_of_birth"]=this.$toTime(parseInt(this.form["date_of_birth"]),"yyyy-MM-dd")),this.form["registration_time"]&&-1===JSON.stringify(this.form["registration_time"]).indexOf("-")&&(this.form["registration_time"]=this.$toTime(parseInt(this.form["registration_time"]),"yyyy-MM-dd hh:mm:ss")),this.form.label&&(this.label_multiple_value=this.form.label.split(","))},change_avatar:function(){var t=this;t.upload_img_flag=!1,e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(r){var i=r.tempFilePaths,s=e.uploadFile({url:t.$fullUrl("/api/user/upload?"),filePath:i[0],name:"file",formData:{i_want_to_customize:"test"},header:{"x-auth-token":t.$store.state.user.token},success:function(e){var r=JSON.parse(e.data).result.url;t.form_user.avatar=r}});s.onProgressUpdate((function(e){t.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},submit:function(e,t){var r=this;return u(a().mark((function i(){var s,n,o;return a().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e||(e=r.form_user),s=r.events("submit_before",Object.assign({},e))||e,i.next=4,r.events("submit_check",s);case 4:return n=i.sent,n?r.$toast(n,"danger"):o=r.events("submit_main",s,t),i.abrupt("return",o);case 7:case"end":return i.stop()}}),i)})))()}},o(i,"submit_check",(function(e){var t=this;return u(a().mark((function r(){var i,s,n,o,l,u,c,_,d,f;return a().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=null,s=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,n=e.username,o=e.password,l=e.nickname,u=e.user_group,c=e.email,t.confirm_password,console.log("表单校验username ,password ,email ,nickname ,user_group",n,o,c,l,u),n?n.length>16||n.length<5?i="账号长度应为5到16个字符之间！":o?t.is_password&&(o.length>16||o.length<5)?i="密码长度应为5到16个字符之间！":l&&l.length>12||l.length<2?i="昵称长度应为2个字符到12个字符之间":c&&!s.test(c)?i="请输入正确的邮箱地址 例：test@test.com!":u||(i="请选择用户组!"):i="密码不能为空!":i="账号不能为空",{username:e.username},_=Object.assign({},t.form),i||_["date_of_birth"]){r.next=10;break}return r.abrupt("return","出生日期不能为空");case 10:if(i||_["registration_time"]){r.next=12;break}return r.abrupt("return","注册时间不能为空");case 12:if(d=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,!_.id_card||d.test(_.id_card)){r.next=15;break}return r.abrupt("return","身份证号格式错误");case 15:if(f=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,!_.mobile_phone||f.test(_.mobile_phone)){r.next=18;break}return r.abrupt("return","手机号格式错误");case 18:return r.abrupt("return",i);case 19:case"end":return r.stop()}}),r)})))()})),o(i,"submit_main",(function(e,t){var r=this.url;if(r)if(this.field_user){var i=e[this.field_user];if(i){var s={method:"set"};s[this.field_user]=i,r=this.toUrl(s,r)}else r+="method=add"}else r+="method=submit";else if(this.url_submit)r=this.url_submit;else if(this.field_user){i=e[this.field_user];r=i?this.url_set_user:this.url_add_user}if(r){var n=this;this.$post(this.$toUrl(this.query_user,r),e,(function(e,r){e.result?n.events("submit_after",e,t):e.error?n.$toast(e.error.message,"danger"):n.$toast("服务器连接失败！","danger")}))}})),o(i,"submit_after",(function(e,t){var r=Object.assign({},this.form_user);console.log("查询表单form",r),this.get_register(r)})),o(i,"get_register",(function(e){var t=this,r=(e=this.form,this.form_user);delete r.password,this.$get("~/api/user/get_obj?",r,(function(r){console.log("注册表信息res",r),r.result&&r.result.obj?(e.user_id=r.result.obj.user_id,t.submit_sub(e)):r.error&&(console.error(r.error),t.$toast(r.error.message,"error"))}))})),o(i,"submit_sub",(function(t){var r=this;t["registered_users_id"]?this.$post("~/api/"+this.group_table+"/set?registered_users_id="+t["registered_users_id"],t,(function(t){console.log("提交结果：",t),t.result?(r.$toast("修改成功!","success"),e.navigateBack({delta:1})):t.error&&(console.error(t.error),r.$toast(t.error.message,"error"))})):this.$post("~/api/"+this.group_table+"/add?",t,(function(i){if(console.log("提交结果：",i),i.result)r.$toast("添加成功!","success"),e.navigateBack({delta:1});else if(i.error){var s=t["user_id"];r.$get("~/api/user/del?",{user_id:s}),console.error(i.error),r.$toast(i.error.message,"error")}}))})),o(i,"get_list_vip_level",(function(){var e=this;return u(a().mark((function t(){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/vip_level/get_list?");case 2:r=t.sent,r.result&&r.result.list&&(e.list_user_vip_level_data=r.result.list,r.result.list.map((function(t){return e.list_user_vip_level.push({value:t.name,text:t.name})})));case 4:case"end":return t.stop()}}),t)})))()})),o(i,"vip_level_change",(function(e){for(var t=0;t<this.list_user_vip_level_data.length;t++)if(e==this.list_user_vip_level_data[t].name){this.form_user.vip_level=this.list_user_vip_level_data[t].name,this.obj_user.vip_level=this.list_user_vip_level_data[t].name,this.form_user.vip_discount=this.list_user_vip_level_data[t].discount,this.obj_user.vip_discount=this.list_user_vip_level_data[t].discount;break}})),o(i,"is_view",(function(){var e="管理员"==this.user_group;return e||(e=this.$check_action("/registered_users/table","add"),console.log(e?"你有表格添加权限视作有添加权限":"你没有表格添加权限")),e||(e=this.$check_action("/registered_users/table","set"),console.log(e?"你有表格添加权限视作有修改权限":"你没有表格修改权限")),e||(e=this.$check_action("/registered_users/view","add"),console.log(e?"你有视图添加权限视作有添加权限":"你没有视图添加权限")),e||(e=this.$check_action("/registered_users/view","set"),console.log(e?"你有视图修改权限视作有修改权限":"你没有视图修改权限")),e||(e=this.$check_action("/registered_users/view","get"),console.log(e?"你有视图查询权限视作有查询权限":"你没有视图查询权限")),console.log(e?"具有当前页面的查看权，请注意这不代表你有字段的查看权":"无权查看当前页，请注意即便有字段查询权限没有页面查询权限也不行"),e})),i),created:function(){this.get_list_gender(),this.get_list_number(),this.get_list_classification_number(),this.get_list_label(),this.get_list_vip_level()}}}).call(this,r("543d")["default"])},a7f0:function(e,t,r){"use strict";var i,s={uniForms:function(){return Promise.all([r.e("common/vendor"),r.e("components/uni-forms/uni-forms")]).then(r.bind(null,"2deb"))},uniFormsItem:function(){return r.e("components/uni-forms-item/uni-forms-item").then(r.bind(null,"d8ed"))},uniIcons:function(){return Promise.all([r.e("common/vendor"),r.e("components/uni-icons/uni-icons")]).then(r.bind(null,"2ba4"))},uniEasyinput:function(){return Promise.all([r.e("common/vendor"),r.e("components/uni-easyinput/uni-easyinput")]).then(r.bind(null,"eea8"))},uniDataSelect:function(){return Promise.all([r.e("common/vendor"),r.e("components/uni-data-select/uni-data-select")]).then(r.bind(null,"b904"))},uniDatetimePicker:function(){return Promise.all([r.e("common/vendor"),r.e("components/uni-datetime-picker/uni-datetime-picker")]).then(r.bind(null,"35cd"))},ldSelect:function(){return r.e("components/ld-select/ld-select").then(r.bind(null,"e195"))}},n=function(){var e=this,t=e.$createElement,r=(e._self._c,e.is_view()),i=r&&e.form_user["avatar"]?e.$fullUrl(e.form_user["avatar"]):null,s=r?e.$check_field("get","name")||e.$check_field("add","name")||e.$check_field("set","name"):null,n=r&&s?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","name")||!e.form["registered_users_id"]&&e.$check_field("add","name"):null,o=r&&s&&!n?e.$check_field("get","name"):null,a=r?e.$check_field("get","gender")||e.$check_field("add","gender")||e.$check_field("set","gender"):null,l=r&&a?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","gender")||!e.form["registered_users_id"]&&e.$check_field("add","gender"):null,u=r&&a&&!l?e.$check_field("get","gender"):null,c=r?e.$check_field("get","age")||e.$check_field("add","age")||e.$check_field("set","age"):null,_=r&&c?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","age")||!e.form["registered_users_id"]&&e.$check_field("add","age"):null,d=r&&c&&!_?e.$check_field("get","age"):null,f=r?e.$check_field("get","id_photo")||e.$check_field("add","id_photo")||e.$check_field("set","id_photo"):null,h=r&&f?e.form["id_photo"]&&e.$check_field("set","id_photo"):null,m=r&&f&&h&&e.disabledObj["id_photo_isDisabled"]?e.$fullUrl(e.form["id_photo"]):null,g=r&&f&&h&&!e.disabledObj["id_photo_isDisabled"]?e.$fullUrl(e.form["id_photo"]):null,p=r&&f&&!h?!e.form["id_photo"]&&e.$check_field("add","id_photo"):null,b=r&&f&&!h&&!p?e.$check_field("get","id_photo"):null,v=r&&f&&!h&&!p&&b?e.$fullUrl(e.form["id_photo"]):null,y=r?e.$check_field("get","date_of_birth")||e.$check_field("add","date_of_birth")||e.$check_field("set","date_of_birth"):null,$=r&&y?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","date_of_birth")||!e.form["registered_users_id"]&&e.$check_field("add","date_of_birth"):null,k=r&&y&&!$?e.$check_field("get","date_of_birth"):null,w=r?e.$check_field("get","registration_time")||e.$check_field("add","registration_time")||e.$check_field("set","registration_time"):null,x=r&&w?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","registration_time")||!e.form["registered_users_id"]&&e.$check_field("add","registration_time"):null,j=r&&w&&!x?e.$check_field("get","registration_time"):null,O=r?e.$check_field("get","resume")||e.$check_field("add","resume")||e.$check_field("set","resume"):null,S=r&&O?e.$check_field("get","resume"):null,L=r&&O&&S&&e.form["resume"]?e.$fullUrl(e.form["resume"]):null,P=r&&O&&!S?e.$check_field("add","resume")||e.$check_field("set","resume"):null,E=r?e.$check_field("get","number")||e.$check_field("add","number")||e.$check_field("set","number"):null,D=r&&E?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","number")||!e.form["registered_users_id"]&&e.$check_field("add","number"):null,T=r&&E&&!D?e.$check_field("get","number"):null,F=r?e.$check_field("get","classification_number")||e.$check_field("add","classification_number")||e.$check_field("set","classification_number"):null,N=r&&F?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","classification_number")||!e.form["registered_users_id"]&&e.$check_field("add","classification_number"):null,I=r&&F&&!N?e.$check_field("get","classification_number"):null,U=r?e.$check_field("get","classification_categories")||e.$check_field("add","classification_categories")||e.$check_field("set","classification_categories"):null,M=r&&U?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","classification_categories")||!e.form["registered_users_id"]&&e.$check_field("add","classification_categories"):null,J=r&&U&&!M?e.$check_field("get","classification_categories"):null,z=r?e.$check_field("get","label")||e.$check_field("add","label")||e.$check_field("set","label"):null,G=r&&z?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","label")||!e.form["registered_users_id"]&&e.$check_field("add","label"):null,B=r&&z&&!G?e.$check_field("get","label"):null,A=r?e.$check_field("get","id_card")||e.$check_field("add","id_card")||e.$check_field("set","id_card"):null,q=r&&A?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","id_card")||!e.form["registered_users_id"]&&e.$check_field("add","id_card"):null,C=r&&A&&!q?e.$check_field("get","id_card"):null,Z=r?e.$check_field("get","mobile_phone")||e.$check_field("add","mobile_phone")||e.$check_field("set","mobile_phone"):null,X=r&&Z?"管理员"===e.user_group||e.form["registered_users_id"]&&e.$check_field("set","mobile_phone")||!e.form["registered_users_id"]&&e.$check_field("add","mobile_phone"):null,Y=r&&Z&&!X?e.$check_field("get","mobile_phone"):null,H=e.$check_action("/registered_users/view","set")||e.$check_action("/registered_users/view","add")||e.$check_option("/registered_users/table","examine");e.$mp.data=Object.assign({},{$root:{m0:r,m1:i,m2:s,m3:n,m4:o,m5:a,m6:l,m7:u,m8:c,m9:_,m10:d,m11:f,m12:h,m13:m,m14:g,m15:p,m16:b,m17:v,m18:y,m19:$,m20:k,m21:w,m22:x,m23:j,m24:O,m25:S,m26:L,m27:P,m28:E,m29:D,m30:T,m31:F,m32:N,m33:I,m34:U,m35:M,m36:J,m37:z,m38:G,m39:B,m40:A,m41:q,m42:C,m43:Z,m44:X,m45:Y,m46:H}})},o=[],a=r("3191"),l=a["a"],u=(r("eb18"),r("f0c5")),c=Object(u["a"])(l,n,o,!1,null,"170fe7aa",null,!1,s,i);t["a"]=c.exports},e1e1:function(e,t,r){},eb18:function(e,t,r){"use strict";var i=r("e1e1"),s=r.n(i);s.a},ffdb:function(e,t,r){"use strict";r.r(t),function(e){r("6cdc"),r("66fd");var t=r("a7f0");wx.__webpack_require_UNI_MP_PLUGIN__=r,e(t["a"])}.call(this,r("543d")["createPage"])}},[["ffdb","common/runtime","common/vendor"]]]);